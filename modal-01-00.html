
<div class="modal-header">
	<h5 class="modal-title" id="modalLabel">설비정보</h5>
	<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body p-0">
	<div class="modal-facility">
		<button type="button" class="btn btn-primary toggle-side" id="toggleSidePanel" data-bs-toggle="tooltip" data-bs-placement="top" title="트리메뉴 닫기">
			<span class="material-symbols-outlined">
			menu_open
			</span>
		</button>
		<div class="side-panel left" id="sidePanel">
			<label for="FacilityDataList" class="form-label visually-hidden">설비명 입력</label>
			<input class="form-control" list="datalistOptions" id="FacilityDataList" placeholder="설비명 입력">
			<datalist id="datalistOptions">
				<option value="Turbine 1">
				<option value="Steam Turbine 5">
				<option value="Gas Turbine 2">
				<option value="HRSG 1">
				<option value="ACC">
			</datalist>
			<div id="jstree" class="jstree-box border bg-white rounded d-flex"></div>
		</div>
		<div class="contents-panel" id="contentsPanel">
			<div id="node-content">
				<div id="content-display">
					<!-- add menu text -->
					<h2 class="box-title01"></h2>
					
					<div id="content"></div>
				</div>
			</div>
		</div>
	</div>

</div>
<!-- 
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
<button type="button" class="btn btn-primary">Save changes</button>
</div>
-->

<script>

	$(document).ready(function() {
		// 트리메뉴 툴팁 초기화
		var tooltipTriggerEl = document.getElementById('toggleSidePanel');
		if (tooltipTriggerEl) {
			var tooltip = new bootstrap.Tooltip(tooltipTriggerEl);
		} else {
			console.warn("toggleSidePanel 요소가 없습니다.");
		} 
	
		let isCollapsed = false;
	
		$('#toggleSidePanel').on('click', function() {
			if (isCollapsed) {
				$(this).css('left', '');
				$('#sidePanel').show(); // 기본 너비로 복원
				$('#contentsPanel').removeClass('expanded'); // contentsPanel의 너비 확장
				$(this).attr('title', '트리메뉴 닫기'); // 타이틀 변경
				$(this).find('.material-symbols-outlined').css('transform', 'scaleX(1)');
				//$(this).find('.material-symbols-outlined').text('menu_open'); // 아이콘 변경
			} else {
				$(this).css('left', '16px');
				$('#sidePanel').hide(); // 너비를 80픽셀로 줄임
				$('#contentsPanel').addClass('expanded'); // contentsPanel의 너비 확장
				$(this).attr('title', '트리메뉴 열기'); // 타이틀 변경
				$(this).find('.material-symbols-outlined').css('transform', 'scaleX(-1)');
				//$(this).find('.material-symbols-outlined').text('menu'); // 아이콘 변경
			}
			isCollapsed = !isCollapsed; // 상태 토글
		}); 
	});

</script>
