<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>jsTree와 Bootstrap 레이아웃</title>
	<link rel="stylesheet" href="WP_prototype_20240927/css/bootstrap-5.3.2/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.12/themes/default/style.min.css" />
	<style>
		.container {
			display: flex;
		}

		#tree {
			width: 30%;
			border-right: 1px solid #ccc;
			padding-right: 20px;
		}

		#node-content {
			width: 70%;
			padding-left: 20px;
			display: none;
			/* 초기에는 보이지 않도록 설정 */
		}
	</style>
</head>

<body>
	<div class="container">
		<div id="tree"></div>
		<div id="node-content">
			<h3>선택된 노드 내용</h3>
			<div id="content-display"></div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.12/jstree.min.js"></script>
	<script>
		$(document).ready(function () {
			// jsTree 데이터를 정의합니다.
			const treeData = [
				{ "id": "node1", "parent": "#", "text": "노드 1" },
				{ "id": "node2", "parent": "#", "text": "노드 2" },
				{ "id": "node3", "parent": "#", "text": "노드 3" },
				{ "id": "node4", "parent": "#", "text": "노드 4" },
				{ "id": "node5", "parent": "#", "text": "노드 5" },
				// 하위 노드 추가 (5단계까지)
				{ "id": "node1-1", "parent": "node1", "text": "노드 1.1" },
				{ "id": "node1-1-1", "parent": "node1-1", "text": "노드 1.1.1" },
				{ "id": "node1-1-1-1", "parent": "node1-1-1", "text": "노드 1.1.1.1" },
				{ "id": "node1-1-1-1-1", "parent": "node1-1-1-1", "text": "노드 1.1.1.1.1" },
				{ "id": "node1-1-1-1-2", "parent": "node1-1-1-1", "text": "노드 1.1.1.1.2" },

				{ "id": "node1-2", "parent": "node1", "text": "노드 1.2" },
				{ "id": "node1-2-1", "parent": "node1-2", "text": "노드 1.2.1" },
				{ "id": "node1-2-1-1", "parent": "node1-2-1", "text": "노드 1.2.1.1" },
				{ "id": "node1-2-1-1-1", "parent": "node1-2-1-1", "text": "노드 1.2.1.1.1" },
				{ "id": "node1-2-1-1-2", "parent": "node1-2-1-1", "text": "노드 1.2.1.1.2" },

				{ "id": "node2-1", "parent": "node2", "text": "노드 2.1" },
				{ "id": "node2-1-1", "parent": "node2-1", "text": "노드 2.1.1" },
				{ "id": "node2-1-1-1", "parent": "node2-1-1", "text": "노드 2.1.1.1" },
				{ "id": "node2-1-1-1-1", "parent": "node2-1-1-1", "text": "노드 2.1.1.1.1" },
				{ "id": "node2-1-1-1-2", "parent": "node2-1-1-1", "text": "노드 2.1.1.1.2" },

				{ "id": "node3-1", "parent": "node3", "text": "노드 3.1" },
				{ "id": "node3-1-1", "parent": "node3-1", "text": "노드 3.1.1" },
				{ "id": "node3-1-1-1", "parent": "node3-1-1", "text": "노드 3.1.1.1" },
				{ "id": "node3-1-1-1-1", "parent": "node3-1-1-1", "text": "노드 3.1.1.1.1" },
				{ "id": "node3-1-1-1-2", "parent": "node3-1-1-1", "text": "노드 3.1.1.1.2" },

				{ "id": "node4-1", "parent": "node4", "text": "노드 4.1" },
				{ "id": "node4-1-1", "parent": "node4-1", "text": "노드 4.1.1" },
				{ "id": "node4-1-1-1", "parent": "node4-1-1", "text": "노드 4.1.1.1" },
				{ "id": "node4-1-1-1-1", "parent": "node4-1-1-1", "text": "노드 4.1.1.1.1" },
				{ "id": "node4-1-1-1-2", "parent": "node4-1-1-1", "text": "노드 4.1.1.1.2" },

				{ "id": "node5-1", "parent": "node5", "text": "노드 5.1" },
				{ "id": "node5-1-1", "parent": "node5-1", "text": "노드 5.1.1" },
				{ "id": "node5-1-1-1", "parent": "node5-1-1", "text": "노드 5.1.1.1" },
				{ "id": "node5-1-1-1-1", "parent": "node5-1-1-1", "text": "노드 5.1.1.1.1" },
				{ "id": "node5-1-1-1-2", "parent": "node5-1-1-1", "text": "노드 5.1.1.1.2" }
			];

	// jsTree 초기화
	$('#tree').jstree({
		'core': {
			'data': treeData
		},
		'plugins': ['checkbox'],
		'checkbox': {
			'keep_selected_style': false,
			'cascade': 'none',
			'three_state': false
		},
		'state': {
			'key': 'jstree'
		}
	});

	// 체크박스 상태 변경 이벤트 (우측 패널 비연동)
	$('#tree').on("check_node.jstree uncheck_node.jstree", function (e, data) {
		// 체크박스 상태는 변경하되, 패널에는 영향을 주지 않음
		console.log(`체크박스 상태 변경: ${data.node.text} - ${data.node.state.checked ? '체크됨' : '체크 해제됨'}`);
	});

	// 노드 텍스트 클릭 이벤트 (우측 패널 업데이트)
	$('#tree').on("select_node.jstree", function (e, data) {
		// 체크박스가 아닌 노드 텍스트 클릭 시에만 우측 패널 업데이트
		if (!$(e.target).hasClass('jstree-checkbox')) {
			$('#content-display').text(`선택한 노드: ${data.node.text}`);
			$('#node-content').show();
		}
	});


});

	</script>
</body>

</html>